// ==========================================================================
// Main Stylesheet
// ==========================================================================
//
// This is the main entry point for all styles in the application.
//
// 1. Abstracts/   - Variables, functions, mixins, and placeholders
// 2. Vendors/     - Third-party styles
// 3. Base/        - Base styles, typography, and utilities
// 4. Layout/      - Major layout components
// 5. Components/  - Reusable UI components

// External Dependencies
// @import url("fontawesome-all.min.css");
// @import url("https://fonts.googleapis.com/css?family=Lato:400,400italic,700,700italic|Source+Code+Pro:400");

// ==========================================================================
// Abstracts
// ==========================================================================

@use "abstracts/variables" as vars;
@use "abstracts/functions" as fn;
@use "abstracts/mixins" as mx;
@use "abstracts/breakpoints" as bp;
@use "abstracts/colors" as colors;

// ==========================================================================
// Vendor
// ==========================================================================
@use "vendor/normalize";

// ==========================================================================
// Base
// ==========================================================================
@use "base/reset";
@use "base/typography";
@use "base/base";

// ==========================================================================
// Layout
// ==========================================================================
@use "layout/grid";

// ==========================================================================
// Components
// ==========================================================================
@use "components/skills";
@use "components/usTour";
@use "components/worldTour";

// ==========================================================================
// Page-specific styles
// ==========================================================================

/// Base page styles
html {
  box-sizing: border-box;
  font-size: 16px;

  @include bp.breakpoint("<=medium") {
    font-size: 14px;
  }
}

*,
*:before,
*:after {
  box-sizing: inherit;
}

body {
  background: fn.color("background");
  color: fn.color("text");
  font-family: fn.font-family("primary");
  font-size: fn.font-size("base");
  font-weight: fn.font-weight("regular");
  line-height: 1.65;

  @include bp.breakpoint("<=small") {
    line-height: 1.5;
  }

  &.is-loading {
    *,
    *:before,
    *:after {
      @include mx.animation(none !important);
      @include mx.transition(none !important);
    }
  }
}

// ==========================================================================
// Links
// ==========================================================================

a {
  color: fn.color("link");
  text-decoration: none;
  @include mx.transition("color");

  &:hover {
    color: fn.color("link-hover");
    text-decoration: underline;
  }

  &:active,
  &:focus {
    outline: none;
  }
}

// ==========================================================================
// Lists
// ==========================================================================

ul,
ol {
  margin: 0 0 fn.spacing("medium");
  padding-left: 1.25em;

  &.unstyled {
    list-style: none;
    padding-left: 0;
  }

  &.inline {
    display: flex;
    flex-wrap: wrap;
    gap: fn.spacing("small");
    list-style: none;
    padding-left: 0;
  }
}

// ==========================================================================
// Images
// ==========================================================================

img {
  display: block;
  max-width: 100%;
  height: auto;
}

// ==========================================================================
// Forms
// ==========================================================================

input,
select,
textarea {
  background: fn.color("input-bg");
  border: fn.layout("border", "width") solid fn.color("border");
  border-radius: fn.layout("border", "radius");
  color: fn.color("text");
  font-family: fn.font-family("primary");
  font-size: fn.font-size("base");
  padding: fn.spacing("small");
  width: 100%;

  &:focus {
    border-color: fn.color("primary");
    outline: none;
  }
}

// ==========================================================================
// Buttons
// ==========================================================================

button,
.button {
  @include mx.button-base;
  background: fn.color("primary");
  color: fn.color("background");

  &:hover {
    background: fn.color("primary-dark");
  }

  &.secondary {
    background: fn.color("secondary");

    &:hover {
      background: fn.color("secondary-dark");
    }
  }

  &.outline {
    background: transparent;
    border: fn.layout("border", "width") solid currentColor;
    color: fn.color("primary");

    &:hover {
      background: fn.color("primary");
      color: fn.color("background");
    }
  }
}

// ==========================================================================
// Utilities
// ==========================================================================

.text {
  &-center {
    text-align: center;
  }
  &-left {
    text-align: left;
  }
  &-right {
    text-align: right;
  }
}

.margin {
  &-top {
    margin-top: fn.spacing("medium");
  }
  &-bottom {
    margin-bottom: fn.spacing("medium");
  }
  &-left {
    margin-left: fn.spacing("medium");
  }
  &-right {
    margin-right: fn.spacing("medium");
  }
}

.padding {
  &-top {
    padding-top: fn.spacing("medium");
  }
  &-bottom {
    padding-bottom: fn.spacing("medium");
  }
  &-left {
    padding-left: fn.spacing("medium");
  }
  &-right {
    padding-right: fn.spacing("medium");
  }
}

.hidden {
  display: none !important;
}

.visually-hidden {
  @include mx.visually-hidden;
}

// ==========================================================================
// Header
// ==========================================================================

#header {
  @include mixins.vendor("display", "flex");
  @include mixins.vendor("flex-direction", "column");
  @include mixins.vendor("justify-content", "space-between");
  background: fn.color("header-bg");
  color: fn.color("header-text");
  height: 100%;
  overflow-y: auto;
  position: fixed;
  text-align: center;
  top: 0;
  width: $size-header;

  @if fn.layout("header", "side") == "right" {
    right: 0;
  } @else {
    left: 0;
  }

  h1 {
    font-size: fn.font-size("h2");
    padding: fn.spacing("large") 0;
  }

  .avatar {
    display: block;
    margin: 0 auto fn.spacing("medium") auto;
    width: 8em;
  }

  .icons {
    margin: fn.spacing("medium") 0;
  }

  nav {
    @include mixins.vendor("flex-grow", "1");
    display: flex;
    flex-direction: column;
    justify-content: center;
    margin: fn.spacing("medium") 0;

    ul {
      list-style: none;
      padding: 0;

      li {
        border-top: solid fn.layout("border", "width") fn.color("border");

        a {
          @include mixins.vendor(
            "transition",
            "color #{fn.transition('standard')} ease-in-out"
          );
          color: fn.color("link");
          display: block;
          padding: fn.spacing("medium") 0;
          text-decoration: none;

          &:hover {
            color: fn.color("link-hover");
          }

          &.active {
            color: fn.color("accent");
          }
        }

        &:first-child {
          border-top: 0;
        }
      }
    }
  }
}

// ==========================================================================
// Main
// ==========================================================================

#main {
  margin-left: $size-header;
  max-width: fn.layout("container", "width");
  padding: fn.spacing("large");

  section {
    border-top: solid fn.layout("border", "width") fn.color("border");
    margin: fn.spacing("large") 0;
    padding: fn.spacing("large") 0;

    &:first-child {
      border-top: 0;
      margin-top: 0;
      padding-top: 0;
    }

    &:last-child {
      margin-bottom: 0;
      padding-bottom: 0;
    }
  }
}

// ==========================================================================
// Footer
// ==========================================================================

#footer {
  @include mixins.vendor("display", "flex");
  @include mixins.vendor("flex-direction", "column");
  @include mixins.vendor("align-items", "center");
  background: fn.color("background");
  border-top: solid fn.layout("border", "width") fn.color("border");
  padding: fn.spacing("large");

  .copyright {
    color: fn.color("text-light");
    font-size: fn.font-size("small");
    list-style: none;
    padding: 0;

    li {
      border-left: solid fn.layout("border", "width") fn.color("border");
      display: inline-block;
      line-height: 1;
      margin: 0 0 0 fn.spacing("small");
      padding: 0 0 0 fn.spacing("small");

      &:first-child {
        border-left: 0;
        margin-left: 0;
        padding-left: 0;
      }
    }
  }
}

// ==========================================================================
// Responsive
// ==========================================================================

@include bp.breakpoint("<=xlarge") {
  $size-header: fn.layout("header", "width") * 0.8;

  #header {
    width: $size-header;
  }

  #main {
    margin-left: $size-header;
  }
}

@include bp.breakpoint("<=large") {
  $size-header: fn.layout("header", "width") * 0.7;

  #header {
    width: $size-header;

    h1 {
      font-size: fn.font-size("h3");
    }
  }

  #main {
    margin-left: $size-header;
  }
}

@include bp.breakpoint("<=medium") {
  $size-header: fn.layout("header", "width") * 0.6;

  #header {
    width: $size-header;
  }

  #main {
    margin-left: $size-header;
    padding: fn.spacing("medium");
  }
}

@include bp.breakpoint("<=small") {
  $size-header: fn.layout("header", "width") * 0.5;

  #header {
    width: $size-header;
  }

  #main {
    margin-left: $size-header;
    padding: fn.spacing("small");
  }
}

// ==========================================================================
// MAIN - Row
// ==========================================================================

.row {
  @include html-grid.html-grid(2em);

  @include bp.breakpoint("<=xlarge") {
    @include html-grid.html-grid(2em, "xlarge");
  }

  @include bp.breakpoint("<=large") {
    @include html-grid.html-grid(1.5em, "large");
  }

  @include bp.breakpoint("<=medium") {
    @include html-grid.html-grid(1.5em, "medium");
  }

  @include bp.breakpoint("<=small") {
    @include html-grid.html-grid(1.25em, "small");
  }

  @include bp.breakpoint("<=xsmall") {
    @include html-grid.html-grid(1.25em, "xsmall");
  }
}

// ==========================================================================
// MAIN - Container
// ==========================================================================

.container {
  margin: 0 auto;
  max-width: calc(100% - #{functions.size(element-margin) * 2});
  width: functions.size(container-width);

  &.xsmall {
    width: (functions.size(container-width) * 0.25);
  }

  &.small {
    width: (functions.size(container-width) * 0.5);
  }

  &.medium {
    width: (functions.size(container-width) * 0.75);
  }

  &.large {
    width: (functions.size(container-width) * 1.25);
  }

  &.xlarge {
    width: (functions.size(container-width) * 1.5);
  }

  &.max {
    width: 100%;
  }

  @include bp.breakpoint("<=medium") {
    width: 100% !important;
  }

  @include bp.breakpoint("<=xsmall") {
    max-width: calc(100% - #{functions.size(element-margin) * 1.5});
  }
}

// ==========================================================================
// MAIN - Section/Article
// ==========================================================================

section,
article {
  &.special {
    text-align: center;
  }
}

header {
  p {
    color: functions.palette(fg-light);
    position: relative;
    margin: 0 0 (functions.size(element-margin) * 0.75) 0;
  }

  h2 + p {
    font-size: 1.25em;
    margin-top: -0.5em;
    line-height: 1.5em;
  }

  h3 + p {
    font-size: 1.1em;
    margin-top: -0.35em;
    line-height: 1.5em;
  }

  h4 + p,
  h5 + p,
  h6 + p {
    font-size: 0.9em;
    margin-top: -0.25em;
    line-height: 1.5em;
  }

  &.major {
    h2 {
      color: functions.palette(accent1, bg);
      font-size: 3.5em;

      & + p {
        color: functions.palette(fg-bold);
        font-size: 1.75em;
        font-weight: functions.font(weight-bold);
        margin-top: -0.75em;
      }
    }
  }
}

// ==========================================================================
// MAIN - Form
// ==========================================================================

form {
  margin: 0 0 functions.size(element-margin) 0;
}

label {
  color: map.get($palette, primary, bg);
  display: block;
  font-size: 0.9em;
  font-weight: functions.font(weight-bold);
  margin: 0 0 (functions.size(element-margin) * 0.5) 0;
}

input::-moz-focus-inner {
  border: 0;
  padding: 0;
}

input[type="text"],
input[type="password"],
input[type="email"],
select {
  height: functions.size(element-height);
}

textarea {
  padding: 0.75em 1em;
}

input[type="text"],
input[type="password"],
input[type="email"],
select,
textarea {
  @include vendor.vendor("appearance", "none");
  border-radius: functions.size(border-radius);
  border: none;
  border: solid functions.size(border-width)
    map.get($palette, secondary, bg-light);
  color: map.get($palette, primary, bg) !important;
  background: map.get($palette, secondary, bg);
  display: block;
  outline: 0;
  padding: 0 1em;
  text-decoration: none;
  width: 100%;

  &:invalid {
    box-shadow: none;
  }

  // &:focus {
  // border-color: map.get($palette, accent-3, bg);
  // }
}

::-webkit-input-placeholder {
  color: map.get($palette, primary, bg) !important;
  font-style: italic;
  opacity: 1;
}

:-moz-placeholder {
  color: map.get($palette, primary, bg) !important;
  font-style: italic;
  opacity: 1;
}

::-moz-placeholder {
  color: map.get($palette, primary, bg) !important;
  font-style: italic;
  opacity: 1;
}

:-ms-input-placeholder {
  color: map.get($palette, primary, bg) !important;
  font-style: italic;
  opacity: 1;
}

// ==========================================================================
// MAIN - Box
// ==========================================================================

.box {
  border-radius: functions.size(border-radius);
  border: solid functions.size(border-width) functions.palette(border2);
  margin-bottom: functions.size(element-margin);
  padding: 1.5em;

  > :last-child,
  > :last-child > :last-child,
  > :last-child > :last-child > :last-child {
    margin-bottom: 0;
  }

  &.alt {
    border: 0;
    border-radius: 0;
    padding: 0;
  }
}

// ==========================================================================
// Icon
// ==========================================================================

.icon {
  @include mixins.icon;
  border-bottom: none;
  position: relative;

  > .label {
    display: none;
  }

  &:before {
    line-height: inherit;
  }

  &.solid {
    &:before {
      font-weight: 900;
    }
  }

  &.brands {
    &:before {
      font-family: "Font Awesome 5 Brands";
    }
  }
}

// ==========================================================================
// MAIN - Image
// ==========================================================================

.image {
  border-radius: functions.size(border-radius);
  border: 0;
  display: inline-block;
  position: relative;

  &[data-position] {
    img {
      @include vendor.vendor("object-fit", "cover");
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
    }
  }

  &[data-position="top left"] {
    img {
      @include vendor.vendor("object-position", "top left");
    }
  }

  &[data-position="top"] {
    img {
      @include vendor.vendor("object-position", "top");
    }
  }

  &[data-position="top right"] {
    img {
      @include vendor.vendor("object-position", "top right");
    }
  }

  &[data-position="right"] {
    img {
      @include vendor.vendor("object-position", "right");
    }
  }

  &[data-position="bottom right"] {
    img {
      @include vendor.vendor("object-position", "bottom right");
    }
  }

  &[data-position="bottom"] {
    img {
      @include vendor.vendor("object-position", "bottom");
    }
  }

  &[data-position="bottom left"] {
    img {
      @include vendor.vendor("object-position", "bottom left");
    }
  }

  &[data-position="left"] {
    img {
      @include vendor.vendor("object-position", "left");
    }
  }

  &[data-position="center"] {
    img {
      @include vendor.vendor("object-position", "center");
    }
  }

  &[data-position="25% 25%"] {
    img {
      @include vendor.vendor("object-position", "25% 25%");
    }
  }

  &[data-position="75% 25%"] {
    img {
      @include vendor.vendor("object-position", "75% 25%");
    }
  }

  &[data-position="75% 75%"] {
    img {
      @include vendor.vendor("object-position", "75% 75%");
    }
  }

  &[data-position="25% 75%"] {
    img {
      @include vendor.vendor("object-position", "25% 75%");
    }
  }

  img {
    border-radius: functions.size(border-radius);
    display: block;
  }

  &.left {
    float: left;
    margin: 0 2.5em 2em 0;
    top: 0.25em;
  }

  &.right {
    float: right;
    margin: 0 0 2em 2.5em;
    top: 0.25em;
  }

  &.fit {
    display: block;
    margin: 0 0 functions.size(element-margin) 0;
    width: 100%;

    img {
      display: block;
      width: 100%;
    }
  }

  &.avatar {
    border-radius: 100%;
    overflow: hidden;

    img {
      border-radius: 100%;
      display: block;
      width: 100%;
    }
  }

  &.main {
    display: block;
    height: 20em;
    border-radius: 0;

    img {
      border-radius: 0;
    }
  }
}

// ==========================================================================
// MAIN - List
// ==========================================================================

ol {
  list-style: decimal;
  margin: 0 0 functions.size(element-margin) 0;
  padding-left: 1.25em;

  li {
    padding-left: 0.25em;
  }
}

ul {
  list-style: disc;
  margin: 0 0 functions.size(element-margin) 0;
  padding-left: 1em;

  li {
    padding-left: 0.5em;
  }

  &.alt {
    list-style: none;
    padding-left: 0;

    li {
      border-top: solid functions.size(border-width) functions.palette(border);
      padding: 0.5em 0;

      &:first-child {
        border-top: 0;
        padding-top: 0;
      }
    }
  }
}

dl {
  margin: 0 0 functions.size(element-margin) 0;
}

// ==========================================================================
// MAIN - Actions
// ==========================================================================

ul.actions {
  @include vendor.vendor("display", "flex");
  cursor: default;
  list-style: none;
  margin-left: (functions.size(element-margin) * -0.5);
  padding-left: 0;

  li {
    padding: 0 0 0 (functions.size(element-margin) * 0.5);
    vertical-align: middle;
  }

  &.special {
    @include vendor.vendor("justify-content", "center");
    width: 100%;
    margin-left: 0;

    li {
      &:first-child {
        padding-left: 0;
      }
    }
  }

  &.stacked {
    @include vendor.vendor("flex-direction", "column");
    margin-left: 0;

    li {
      padding: (functions.size(element-margin) * 0.5) 0 0 0;

      &:first-child {
        padding-top: 0;
      }
    }
  }

  &.fit {
    width: calc(100% + #{functions.size(element-margin) * 0.5});

    li {
      @include vendor.vendor("flex-grow", "1");
      @include vendor.vendor("flex-shrink", "1");
      width: 100%;

      > * {
        width: 100%;
      }
    }

    &.stacked {
      width: 100%;
    }
  }

  @include bp.breakpoint("<=xsmall") {
    &:not(.fixed) {
      @include vendor.vendor("flex-direction", "column");
      margin-left: 0;
      width: 100% !important;

      li {
        @include vendor.vendor("flex-grow", "1");
        @include vendor.vendor("flex-shrink", "1");
        padding: (functions.size(element-margin) * 0.5) 0 0 0;
        text-align: center;
        width: 100%;

        > * {
          width: 100%;
        }

        &:first-child {
          padding-top: 0;
        }

        input[type="submit"],
        input[type="reset"],
        input[type="button"],
        button,
        .button {
          width: 100%;

          &.icon {
            &:before {
              margin-left: -0.5rem;
            }
          }
        }
      }
    }
  }
}

// ==========================================================================
// MAIN - Icons
// ==========================================================================

ul.icons {
  cursor: default;
  list-style: none;
  padding-left: 0;

  li {
    display: inline-block;
    padding: 0 1em 0 0;

    &:last-child {
      padding-right: 0 !important;
    }

    .icon {
      &:before {
        font-size: 2em;
      }
    }
  }
}

// ==========================================================================
// MAIN - Table
// ==========================================================================

.table-wrapper {
  -webkit-overflow-scrolling: touch;
  overflow-x: auto;
}

table {
  margin: 0 0 functions.size(element-margin) 0;
  width: 100%;

  tbody {
    tr {
      border: solid functions.size(border-width) functions.palette(border);
      border-left: 0;
      border-right: 0;

      &:nth-child(2n + 1) {
        background-color: functions.palette(border-bg);
      }
    }
  }

  td {
    padding: 0.75em 0.75em;
  }

  th {
    color: functions.palette(fg-bold);
    font-size: 0.9em;
    font-weight: functions.font(weight-bold);
    padding: 0 0.75em 0.75em 0.75em;
    text-align: left;
  }

  thead {
    border-bottom: solid (functions.size(border-width) * 2)
      functions.palette(border2);
  }

  tfoot {
    border-top: solid (functions.size(border-width) * 2)
      functions.palette(border2);
  }

  &.alt {
    border-collapse: separate;

    tbody {
      tr {
        td {
          border: solid functions.size(border-width) functions.palette(border2);
          border-left-width: 0;
          border-top-width: 0;

          &:first-child {
            border-left-width: functions.size(border-width);
          }
        }

        &:first-child {
          td {
            border-top-width: functions.size(border-width);
          }
        }
      }
    }

    thead {
      border-bottom: 0;
    }

    tfoot {
      border-top: 0;
    }
  }
}

// ==========================================================================
// MAIN - Button
// ==========================================================================

input[type="submit"],
input[type="reset"],
input[type="button"],
.button {
  @include vendor.vendor("appearance", "none");
  @include vendor.vendor(
    "transition",
    (
      "background-color #{functions.duration(transition)} ease-in-out",
      "color #{functions.duration(transition)} ease-in-out"
    )
  );
  background-color: map.get($palette, secondary, bg);
  border-radius: functions.size(border-radius);
  border: 0;
  color: map.get($palette, primary, bg) !important;
  cursor: pointer;
  display: inline-block;
  font-weight: functions.font(weight-bold);
  height: functions.size(element-height);
  line-height: functions.size(element-height);
  padding: 0 1.5em;
  text-align: center;
  text-decoration: none;
  white-space: nowrap;

  &:hover {
    background-color: color.adjust(
      map.get($palette, secondary, bg),
      $lightness: 5%
    );
    color: functions.palette(accent2, fg-bold) !important;
  }

  &:active {
    background-color: color.adjust(
      map.get($palette, secondary, bg),
      $lightness: -5%
    );
  }

  &.icon {
    padding-left: 1.35em;

    &:before {
      margin-right: 0.5em;
    }
  }

  &.fit {
    width: 100%;
  }

  &.small {
    font-size: 0.8em;
  }

  &.large {
    font-size: 1.35em;
  }

  &.alt {
    background-color: transparent;
    box-shadow: inset 0 0 0 functions.size(border-width)
      functions.palette(border2);
    color: functions.palette(fg-bold) !important;

    &:hover {
      background-color: functions.palette(border2-bg);
      color: functions.palette(fg-bold) !important;
    }

    &:active {
      background-color: functions.palette(border3-bg);
    }

    &.icon {
      &:before {
        color: functions.palette(fg-light);
      }
    }
  }

  &.primary {
    background-color: map.get($palette, secondary, bg);
    color: map.get($palette, primary, bg) !important;

    &:hover {
      background-color: color.adjust(
        map.get($palette, accent-3, bg),
        $lightness: 5%
      );
      color: map.get($palette, tertiary, bg) !important;
    }

    &:active {
      background-color: color.adjust(
        map.get($palette, accent-3, bg),
        $lightness: -5%
      );
    }
  }

  &.disabled,
  &:disabled {
    background-color: functions.palette(fg) !important;
    box-shadow: inset 0 -0.15em 0 0 rgba(0, 0, 0, 0.15);
    color: functions.palette(bg) !important;
    cursor: default;
    opacity: 0.25;
  }
}

// ==========================================================================
// MAIN - Features
// ==========================================================================

.features {
  article {
    border-top: solid (functions.size(border-width) * 1.5)
      functions.palette(border);
    margin-bottom: functions.size(element-margin);
    padding-top: functions.size(element-margin);

    &:first-child {
      border-top: 0;
      padding-top: 0;
    }

    .image {
      display: inline-block;
      padding-right: 2.5em;
      vertical-align: middle;
      width: 48%;

      img {
        display: block;
        width: 100%;
      }
    }

    .inner {
      display: inline-block;
      vertical-align: middle;
      width: 50%;

      > :last-child {
        margin-bottom: 0;
      }
    }
  }
}

// ==========================================================================
// Wrapper
// ==========================================================================

#wrapper {
  background: fn.color("bg-w");

  //   @if functions.misc(header-side) == "right" {
  //     padding-right: $size-header;
  //   } @else {
  //     padding-left: $size-header;
  //   }
  // }

  /* Main */

  #main {
    margin-left: $size-header;
    max-width: fn.layout("container", "width");
    padding: fn.spacing("large");

    > section {
      margin: fn.spacing("large") 0;

      &:first-child {
        margin-top: 0;
      }
    }
  }

  /* Footer */

  #footer {
    @include mixins.vendor("display", "flex");
    @include mixins.vendor("flex-direction", "column");
    @include mixins.vendor("align-items", "center");
    padding: fn.spacing("large");
    color: fn.color("text-light");

    .copyright {
      font-size: fn.font-size("small");
      list-style: none;
      margin: fn.spacing("medium") 0;

      li {
        border-left: solid 1px fn.color("border");
        display: inline-block;
        margin: 0 0 0 fn.spacing("small");
        padding: 0 0 0 fn.spacing("small");

        &:first-child {
          border-left: 0;
          margin-left: 0;
          padding-left: 0;
        }
      }
    }
  }

  /* Responsive */
  @include bp.breakpoint("<=large") {
    $size-header: fn.layout("header", "width") * 0.8;

    #header {
      width: $size-header;
    }

    #main {
      margin-left: $size-header;
    }
  }

  @include bp.breakpoint("<=medium") {
    $size-header: fn.layout("header", "width") * 0.7;

    #header {
      width: $size-header;

      h1 {
        font-size: fn.font-size("h3");
      }
    }

    #main {
      margin-left: $size-header;
    }
  }

  @include bp.breakpoint("<=small") {
    $size-header: fn.layout("header", "width") * 0.6;

    #header {
      width: $size-header;
    }

    #main {
      margin-left: $size-header;
      padding: fn.spacing("medium");
    }
  }

  /* XLarge */

  @include bp.breakpoint("<=xlarge") {
    $size-header: 21em;

    /* Basic */
    html,
    body {
      overflow-x: hidden;
      overflow-y: auto;
    }

    body,
    input,
    select,
    textarea {
      font-size: 13pt;
    }

    /* Header */

    #header {
      width: $size-header;

      > header {
        padding: 2em;
      }

      > footer {
        padding: 1.5em;
      }
    }

    /* Wrapper */

    #wrapper {
      @if functions.misc(header-side) == "right" {
        padding-right: $size-header;
      } @else {
        padding-left: $size-header;
      }
    }

    /* Main */

    #main {
      > section {
        > .container {
          padding: 4em 0 2em 0;
        }
      }
    }
  }

  /* Large */

  @include bp.breakpoint("<=large") {
    $size-header: 20em;

    /* Basic */

    html,
    body {
      overflow-x: hidden;
      overflow-y: auto;
    }

    body,
    input,
    select,
    textarea {
      font-size: 11pt;
    }

    /* Header */

    #header {
      // width: $size-header;
      @include mixins.headerStyles(
        $size-header,
        functions.misc(header-side),
        "translateX(0)"
      ); // Visible
    }

    /* Wrapper */

    #wrapper {
      @if functions.misc(header-side) == "right" {
        padding-right: $size-header;
      } @else {
        padding-left: $size-header;
      }
    }
  }

  /* Medium */

  #titleBar {
    display: none;
  }

  @include bp.breakpoint("<=medium") {
    /* Basic */

    html,
    body {
      overflow-x: hidden;
    }

    body,
    input,
    select,
    textarea {
      font-size: 12pt;
    }

    /* Image */

    .image {
      &.left,
      &.right {
        max-width: 40%;

        img {
          width: 100%;
        }
      }

      &.main {
        height: 20em;
      }
    }

    /* Header */

    #header {
      @include mixins.headerStyles(
        $size-header,
        functions.misc(header-side),
        "translateX(#{$size-header})"
      ); // Visible

      > footer {
        bottom: auto;
        left: auto;
        margin: 0.5em 0 0 0;
        position: relative;
        right: auto;
        top: auto;
      }
    }

    /* Wrapper */

    #wrapper {
      @include vendor.vendor("backface-visibility", "hidden");
      @include vendor.vendor(
        "transition",
        "transform #{functions.duration(header)} ease"
      );
      padding: 44px 0 1px 0;
    }

    /* Header Panel */

    #titleBar {
      @include vendor.vendor("backface-visibility", "hidden");
      @include vendor.vendor(
        "transition",
        "transform #{functions.duration(header)} ease"
      );
      display: block;
      height: 44px;
      left: 0;
      position: fixed;
      top: 0;
      width: 100%;
      z-index: functions.misc(z-index-base) + 1;
      background: map.get($palette, primary, bg);
      color: map.get($palette, tertiary, bg);
      min-width: 320px;

      .title {
        color: map.get($palette, tertiary, bg);
        display: block;
        font-weight: functions.font(weight-bold);
        height: 44px;
        line-height: 44px;
        padding: 0 1em;
        width: 100%;

        @if functions.misc(header-side) == "right" {
          text-align: left;
        } @else {
          text-align: right;
        }

        a {
          border: 0;
          text-decoration: none;
        }
      }

      .toggle {
        @include mixins.icon(false, solid);
        height: 4em;
        position: absolute;
        top: 0;
        width: 6em;
        border: 0;
        outline: 0;

        @if functions.misc(header-side) == "right" {
          right: 0;
        } @else {
          left: 0;
        }

        &:before {
          background: map.get($palette, secondary, bg);
          color: map.get($palette, tertiary, bg);
          content: "\f0c9";
          display: block;
          font-size: 18px;
          height: 44px;
          line-height: 44px;
          position: absolute;
          text-align: center;
          top: 0;
          width: 64px;

          @if functions.misc(header-side) == "right" {
            right: 0;
          } @else {
            left: 0;
          }
        }
      }
    }

    body {
      &.header-visible {
        #wrapper,
        #titleBar {
          @if functions.misc(header-side) == "right" {
            @include vendor.vendor(
              "transform",
              "translateX(#{$size-header * -1})"
            );
          } @else {
            @include vendor.vendor("transform", "translateX(#{$size-header})");
          }
        }

        #header {
          @include vendor.vendor("transform", "translateX(0)");
        }
      }
    }
  }

  /* Small */

  @include bp.breakpoint("<=small") {
    $size-header: 17em;

    /* Basic */

    body {
      .travels-container {
        flex-direction: column;

        .world-tour-container {
          border-top: 1px solid map.get($palette, tertiary, bg);
        }
      }
    }
    input,
    select,
    textarea {
      font-size: 12pt;
    }

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      br {
        display: none;
      }
    }

    h2 {
      font-size: 1.75em;
    }

    h3 {
      font-size: 1.5em;
    }

    h4 {
      font-size: 1em;
    }

    /* Image */

    .image {
      &.left {
        margin: 0 1.5em 1em 0;
      }

      &.right {
        margin: 0 0 1em 1.5em;
      }

      &.main {
        height: 12em;
      }
    }

    /* Section/Article */

    header {
      br {
        display: none;
      }

      &.major {
        h2 {
          font-size: 2.5em;

          & + p {
            font-size: 1.5em;
          }
        }
      }
    }

    /* Features */

    .features {
      article {
        .image {
          display: block;
          margin: 0 0 functions.size(element-margin) 0;
          padding-right: 0;
          width: 100%;
        }

        .inner {
          display: block;
          width: 100%;
        }
      }
    }

    /* Header */

    #header {
      width: $size-header;

      > header {
        padding: 2em;

        .avatar {
          margin: 0 auto (functions.size(element-margin) * 0.75) auto;
          width: 6em;
        }

        h1 {
          font-size: 1.5em;
        }

        p {
          margin: 1em 0 0 0;
        }
      }

      > footer {
        padding: 1.5em;
      }
    }

    /* Main */

    #main {
      > section {
        > .container {
          padding: 2em 0 0 0;
        }
      }
    }

    /* Footer */

    #footer {
      text-align: center;

      .copyright {
        li {
          border-left: 0;
          display: block;
          line-height: 1.75em;
          margin: 0.75em 0 0 0;
          padding-left: 0;

          &:first-child {
            margin-top: 0;
          }
        }
      }
    }

    /* Header Panel */

    #titleBar {
      .toggle {
        height: 4em;
        width: 6em;

        &:before {
          font-size: 14px;
          width: 44px;
        }
      }
    }

    body {
      &.header-visible {
        #wrapper,
        #titleBar {
          @if functions.misc(header-side) == "right" {
            @include vendor.vendor(
              "transform",
              "translateX(#{$size-header * -1})"
            );
          } @else {
            @include vendor.vendor("transform", "translateX(#{$size-header})");
          }
        }
      }
    }
  }

  /* XSmall */

  @include bp.breakpoint("<=xsmall") {
    /* Basic */

    html,
    body {
      min-width: 320px;
    }

    body,
    input,
    select,
    textarea {
      font-size: 12pt;
    }

    /* List */

    ul {
      &.actions {
        margin: 0 0 functions.size(element-margin) 0;

        li {
          display: block;
          padding: (functions.size(element-margin) * 0.5) 0 0 0;
          text-align: center;
          width: 100%;

          &:first-child {
            padding-top: 0;
          }

          > * {
            width: 100%;
            margin: 0 !important;

            &.icon {
              &:before {
                margin-left: -2em;
              }
            }
          }
        }

        &.small {
          li {
            padding: (functions.size(element-margin) * 0.25) 0 0 0;

            &:first-child {
              padding-top: 0;
            }
          }
        }
      }

      &.feature-icons {
        li {
          display: block;
          width: 100%;
        }
      }
    }

    /* Button */

    input[type="submit"],
    input[type="reset"],
    input[type="button"],
    .button {
      padding: 0;
    }
  }
}

// ==========================================================================
// MAIN - Header
// ==========================================================================

// #header {
//   @include vendor.vendor("display", "flex");
//   @include vendor.vendor("flex-direction", "column");
//   @include vendor.vendor("justify-content", "space-between");
//   background: fn.color("header-bg");
//   color: fn.color("header-text");
//   height: 100%;
//   overflow-y: auto;
//   position: fixed;
//   text-align: center;
//   top: 0;
//   width: $size-header;

//   @if functions.misc(header-side) == "right" {
//     right: 0;
//   } @else {
//     left: 0;
//   }

//   h1,
//   h2,
//   h3,
//   h4,
//   h5,
//   h6 {
//     color: fn.color("header-fg-bold");

//     a {
//       color: fn.color("header-fg-bold");
//     }
//   }

//   header {
//     p {
//       color: fn.color("header-fg-light");
//     }
//   }

//   // a {
//   //   color: map.get($palette, tertiary, bg);

//   //   &:hover {
//   //     color: map.get($palette, tertiary, bg) !important;
//   //   }
//   // }

//   > header {
//     @include vendor.vendor("flex-shrink", "0");
//     padding: 3em;

//     .avatar {
//       display: block;
//       margin: 0 auto functions.size(element-margin) auto;
//       width: 8em;
//     }

//     h1 {
//       font-size: 1.75em;
//       margin: 0;
//     }

//     p {
//       color: map.get($palette, secondary, bg);
//       font-style: italic;
//       margin: 1em 0 0 0;
//     }
//   }

//   > footer {
//     @include vendor.vendor("flex-shrink", "0");
//     bottom: 0;
//     left: 0;
//     padding: 2em;
//     width: 100%;

//     .icons {
//       margin: 0;

//       li {
//         a {
//           color: map.get($palette, accent-1, bg-light);
//         }
//       }
//     }
//   }

//   > nav {
//     @include vendor.vendor("flex-grow", "1");
//     display: flex;
//     flex-direction: column;
//     justify-content: center;
//     overflow: hidden;

//     ul {
//       list-style: none;
//       margin: 0;
//       padding: 0;
//       width: 100%;

//       li {
//         border-top: solid functions.size(border-width)
//           functions.palette(header, border);
//         display: block;
//         padding: 0;

//         a {
//           @include vendor.vendor("transition", "none");
//           border: 0;
//           color: fn.color("header-fg-bold") !important;
//           display: block;
//           padding: 0.85em 0;
//           text-decoration: none;

//           &.active {
//             background: map.get($palette, accent-2, bg);
//             color: map.get($palette, primary, bg) !important;
//           }
//         }

//         &:first-child {
//           border-top: 0;
//         }
//       }
//     }
//   }
// }
